<md-card class="page-card">
        <md-card-title>
                {{label_registrar_combo}}
                <a id="botonVolver" class="example-tooltip-host" mdTooltip={{tooltipAtras}} [mdTooltipPosition]="position" (click)="apretarAtras()">
                        <img src="assets/icons/atras.png">
                </a>
        </md-card-title>
        <md-card-content>
                <section *ngIf="errorMessage" class="bs">
                        <div class="bd-example" data-example-id="">
                                <div class="alert alert-danger" role="alert">
                                        <strong>{{errorMessage}}</strong>
                                </div>
                        </div>
                        <br>
                </section>

                <h3>{{label_datos_combo}}</h3>
                <p>{{label_datos_obligatorios}}</p>

                <md-input-container>
                        <input mdInput placeholder={{label_nombre}} type="text" [(ngModel)]="nombre" name="nombre" required maxlength="40">
                        <br>
                </md-input-container>


                <br>

                <!--LISTA COMBO-->

                <div>
                        <label>{{label_buscar_producto}}: </label>
                        <input type='text' style='padding:8px;margin:15px auto;width:30%;' placeholder={{label_tabla_lista_precio}} (keyup)='updateFilterCombo($event)'
                        />
                        <ngx-datatable #mydatatableCombo
                                class="material fullscreen" 
                                [headerHeight]="50" 
                                [limit]="10" 
                                [sortType]="'multi'" 
                                [columnMode]="'force'"
                                [footerHeight]="50" 
                                [rowHeight]="'auto'"
                                [rows]="productos_combo">
                                <ngx-datatable-column name={{label_cantidad}}>
                                        <ng-template ngx-datatable-cell-template let-value="value" let-row="row">
                                                {{lista_cantidad_productos[row.$$index]}}
                                        </ng-template>
                                </ngx-datatable-column>
                                <ngx-datatable-column name={{label_codigo}}>
                                        <ng-template ngx-datatable-cell-template let-value="value" let-row="row">
                                                {{row.producto.codigo}}
                                        </ng-template>
                                </ngx-datatable-column>
                                <ngx-datatable-column name={{label_nombre}}>
                                        <ng-template ngx-datatable-cell-template let-row="row" let-value="value">
                                                {{row.producto.nombre}}
                                        </ng-template>
                                </ngx-datatable-column>
                                <ngx-datatable-column name={{label_marca}}>
                                        <ng-template ngx-datatable-cell-template let-row="row" let-value="value">
                                                {{row.producto.marca}}
                                        </ng-template>
                                </ngx-datatable-column>
                                <ngx-datatable-column name={{label_medida}}>
                                        <ng-template ngx-datatable-cell-template let-row="row" let-value="value">
                                                {{row.producto.medida}} {{row.producto.nombre_unidad_medida}}
                                        </ng-template>
                                </ngx-datatable-column>
                                <ngx-datatable-column name={{label_precio_compra}}>
                                        <ng-template ngx-datatable-cell-template let-row="row" let-value="value">
                                                {{label_peso}} {{row.precio_unitario_compra}}
                                        </ng-template>
                                </ngx-datatable-column>
                                <ngx-datatable-column name={{label_margen_ganancia}}>
                                        <ng-template ngx-datatable-cell-template let-row="row" let-value="value">
                                                {{(row.precio_unitario_venta/row.precio_unitario_compra)-1}} {{label_porcentaje}}
                                        </ng-template>
                                </ngx-datatable-column>
                                <ngx-datatable-column name={{label_precio_venta}}>
                                        <ng-template ngx-datatable-cell-template let-row="row" let-value="value">
                                                {{label_peso}} {{row.precio_unitario_venta}}
                                        </ng-template>
                                </ngx-datatable-column>
                                <ngx-datatable-column name={{label_accion}}>
                                        <ng-template ngx-datatable-cell-template let-row="row" let-value="value">
                                                <a class="example-tooltip-host" mdTooltip="{{tooltipEditarProducto}}" [mdTooltipPosition]="position">
                                                        <img src="assets/icons/editar.png" (click)="apretarEditarProductoCombo(row)">
                                                </a>
                                        </ng-template>
                                </ngx-datatable-column>
                        </ngx-datatable>
                </div>



                <br><br><br><br>

                <!--LISTA PRECIO-->

                <div>
                        <md-card-title>
                                {{label_lista_precio}}
                        </md-card-title>
                        <p>{{label_descripcion_lista_precio_combo}}</p>
                        <label>{{label_buscar_producto}}: </label>
                        <input type='text' style='padding:8px;margin:15px auto;width:30%;' placeholder={{label_tabla_lista_precio}} (keyup)='updateFilterListaPrecio($event)'
                        />
                        <ngx-datatable 
                                #mydatatable 
                                class="material fullscreen" 
                                [headerHeight]="50" 
                                [limit]="10" 
                                [sortType]="'multi'"
                                [columnMode]="'force'"
                                [footerHeight]="50" 
                                [rowHeight]="'auto'"
                                [rows]="lista_precio">
                                <ngx-datatable-column name={{label_codigo}}>
                                        <ng-template ngx-datatable-cell-template let-value="value" let-row="row">
                                                {{row.producto.codigo}}
                                        </ng-template>
                                </ngx-datatable-column>
                                <ngx-datatable-column name={{label_nombre}}>
                                        <ng-template ngx-datatable-cell-template let-row="row" let-value="value">
                                                {{row.producto.nombre}}
                                        </ng-template>
                                </ngx-datatable-column>
                                <ngx-datatable-column name={{label_marca}}>
                                        <ng-template ngx-datatable-cell-template let-row="row" let-value="value">
                                                {{row.producto.marca}}
                                        </ng-template>
                                </ngx-datatable-column>
                                <ngx-datatable-column name={{label_medida}}>
                                        <ng-template ngx-datatable-cell-template let-row="row" let-value="value">
                                                {{row.producto.medida}} {{row.producto.nombre_unidad_medida}}
                                        </ng-template>
                                </ngx-datatable-column>
                                <ngx-datatable-column name={{label_precio_compra}}>
                                        <ng-template ngx-datatable-cell-template let-row="row" let-value="value">
                                                {{label_peso}} {{row.precio_unitario_compra}}
                                        </ng-template>
                                </ngx-datatable-column>
                                <ngx-datatable-column name={{label_margen_ganancia}}>
                                        <ng-template ngx-datatable-cell-template let-row="row" let-value="value">
                                                {{(row.precio_unitario_venta/row.precio_unitario_compra)-1}} {{label_porcentaje}}
                                        </ng-template>
                                </ngx-datatable-column>
                                <ngx-datatable-column name={{label_precio_venta}}>
                                        <ng-template ngx-datatable-cell-template let-row="row" let-value="value">
                                                {{label_peso}} {{row.precio_unitario_venta}}
                                        </ng-template>
                                </ngx-datatable-column>
                                <ngx-datatable-column name={{label_accion}}>
                                        <ng-template ngx-datatable-cell-template let-row="row" let-value="value">
                                                <a class="example-tooltip-host" mdTooltip="{{tooltipAgregarProducto}}" [mdTooltipPosition]="position">
                                                        <img src="assets/icons/nuevo.png" (click)="apretarAgregarProductoCombo(row,row.codigo,
                                                                                                                               row.precio_unitario_compra)">
                                                </a>
                                        </ng-template>
                                </ngx-datatable-column>
                        </ngx-datatable>
                </div>


        </md-card-content>
        <md-card-actions>
                <button md-raised-button (click)="apretarRegistrarCombo()">{{boton_registrar}}</button>
                <button md-raised-button (click)="apretarSalir()">{{boton_salir}}</button>
        </md-card-actions>
        <md-card-footer></md-card-footer>
</md-card>